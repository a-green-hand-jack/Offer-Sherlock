# Offer-Sherlock Project Plan

## Overview

Offer-Sherlock (2026 ç§‹æ‹›æƒ…æŠ¥èšåˆ Agent) æ˜¯ä¸€ä¸ª AI é©±åŠ¨çš„æ±‚èŒæƒ…æŠ¥ç³»ç»Ÿã€‚é€šè¿‡ **ETL-Agent** æ¨¡å¼ (Extract â†’ Transform/LLM Enrich â†’ Load)ï¼Œä»å®˜æ–¹æ‹›è˜ç½‘ç«™æŠ“å–å²—ä½ä¿¡æ¯ï¼Œç»“åˆå°çº¢ä¹¦ç­‰ç¤¾äº¤åª’ä½“çš„èˆ†æƒ…æ•°æ®ï¼Œç”Ÿæˆå…¨é¢çš„æ±‚èŒæƒ…æŠ¥ç®€æŠ¥ã€‚

## Core Mission

- ç›‘æ§äº’è”ç½‘å¤§å‚çš„æ ¡æ‹›/ç¤¾æ‹›å²—ä½å˜åŒ–
- æ”¶é›†è–ªèµ„ã€é¢ç»ã€è¯„ä»·ç­‰ç¤¾äº¤æƒ…æŠ¥
- åˆ†æè¡Œä¸šè–ªèµ„è¶‹åŠ¿å’Œé£å‘å˜åŒ–
- å¸®åŠ©æ±‚èŒè€…æ‰¾åˆ°æœ€é«˜è–ªçš„å·¥ä½œæœºä¼š

## System Architecture

### ETL-Agent æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        TRIGGER (å®šæ—¶ä»»åŠ¡)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EXTRACT: Official Data Source                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Target URLs â”‚ -> â”‚  Crawl4AI   â”‚ -> â”‚ Raw Markdown/HTML   â”‚  â”‚
â”‚ â”‚ (ByteDance, â”‚    â”‚ (æ¸²æŸ“åŠ¨æ€é¡µé¢) â”‚    â”‚ (JD Content)       â”‚  â”‚
â”‚ â”‚  Alibaba...)â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TRANSFORM: LLM Extraction                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ LangChain +     â”‚ -> â”‚ Structured JobSchema (Pydantic)     â”‚ â”‚
â”‚ â”‚ GPT-4o/Claude   â”‚    â”‚ - title, requirements, salary_range â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ - external_id, apply_link           â”‚ â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DEDUPLICATION: Database Check                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ if job.external_id exists in DB:                            â”‚ â”‚
â”‚ â”‚     skip processing                                         â”‚ â”‚
â”‚ â”‚ else:                                                       â”‚ â”‚
â”‚ â”‚     proceed to social intelligence                          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EXTRACT: Social Intelligence                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ LLM generates   â”‚ -> â”‚ xhs SDK / Apify                     â”‚ â”‚
â”‚ â”‚ search keywords â”‚    â”‚ search_xiaohongshu(query)           â”‚ â”‚
â”‚ â”‚ "å­—èŠ‚ åç«¯ é¢ç»"  â”‚    â”‚ -> Top 10 notes                     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SYNTHESIZE: Intelligence Report                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ LLM combines JD + Social Data -> InsightSchema              â”‚ â”‚
â”‚ â”‚ - salary_estimate, interview_difficulty                     â”‚ â”‚
â”‚ â”‚ - sentiment (æ¨è/é¿é›·/ä¸­ç«‹), key_insights                   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LOAD: Persistence                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ jobs table    â”‚    â”‚ insights tableâ”‚    â”‚ SQLite DB       â”‚  â”‚
â”‚ â”‚ (official JD) â”‚    â”‚ (social intel)â”‚    â”‚ (single file)   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Technology Stack

| Module | Choice | Reason |
|--------|--------|--------|
| **Language** | Python 3.11+ | AI å¼€å‘æ ‡å‡†è¯­è¨€ |
| **LLM Framework** | LangChain | Tool è°ƒç”¨ã€Output Parsers (Pydantic)ã€Prompt ç®¡ç† |
| **LLM Provider** | OpenAI GPT-4o / Claude | å¼ºæŒ‡ä»¤éµå¾ªå’Œé•¿æ–‡æœ¬å¤„ç†èƒ½åŠ› |
| **Web Scraping** | Crawl4AI | ä¸“ä¸º LLM è®¾è®¡ï¼ŒåŠ¨æ€ç½‘é¡µæ¸²æŸ“ä¸º Markdown |
| **Social API** | xhs SDK (ReaJason/xhs) | æœ€ç¨³å®šçš„å°çº¢ä¹¦ Python å°è£… |
| **Social API (Backup)** | Apify | innocenti/xiaohongshu-search Actor |
| **Database/ORM** | SQLAlchemy + SQLite | å•æ–‡ä»¶å­˜å‚¨ï¼Œæ— éœ€é…ç½®æœåŠ¡å™¨ |
| **Schema Validation** | Pydantic | å¼ºç±»å‹æ•°æ®æ¨¡å‹ |

## Database Schema

### `jobs` Table (å®˜æ–¹å²—ä½ä¿¡æ¯)

| Field | Type | Description |
|-------|------|-------------|
| `id` | Integer (PK) | è‡ªå¢ä¸»é”® |
| `company` | String | ä¼ä¸šåç§° (å­—èŠ‚è·³åŠ¨, é˜¿é‡Œå·´å·´...) |
| `title` | String | å²—ä½åç§° |
| `job_id_external` | String (Unique) | å¤–éƒ¨å”¯ä¸€ ID (é˜²é‡å¤æŠ“å–) |
| `requirements` | Text | æ ¸å¿ƒè¦æ±‚ (LLM æå–æ‘˜è¦) |
| `salary_range` | String | è–ªèµ„èŒƒå›´ (å¦‚æœ‰) |
| `location` | String | å·¥ä½œåœ°ç‚¹ |
| `job_type` | String | å²—ä½ç±»å‹ (æ ¡æ‹›/ç¤¾æ‹›/å®ä¹ ) |
| `raw_link` | String | æŠ•é€’é“¾æ¥ |
| `raw_content` | Text | åŸå§‹ JD å†…å®¹ |
| `created_at` | DateTime | é¦–æ¬¡å‘ç°æ—¶é—´ |
| `updated_at` | DateTime | æœ€åæ›´æ–°æ—¶é—´ |

### `insights` Table (ç¤¾äº¤æƒ…æŠ¥)

| Field | Type | Description |
|-------|------|-------------|
| `id` | Integer (PK) | è‡ªå¢ä¸»é”® |
| `job_id` | Integer (FK) | å¤–é”®å…³è” jobs.id |
| `source` | String | æ¥æº (xiaohongshu/zhihu/...) |
| `summary` | Text | èˆ†æƒ…æ€»ç»“ (è–ªèµ„èŒƒå›´ã€é¢è¯•éš¾åº¦ç­‰) |
| `raw_posts` | JSON | åŸå§‹å¸–å­åˆ—è¡¨ (æ ‡é¢˜ã€é“¾æ¥ã€ç‚¹èµæ•°) |
| `sentiment` | String | æƒ…æ„Ÿå€¾å‘ (æ¨è/é¿é›·/ä¸­ç«‹) |
| `salary_estimate` | String | ä¼°ç®—è–ªèµ„ |
| `interview_difficulty` | String | é¢è¯•éš¾åº¦ (ç®€å•/ä¸­ç­‰/å›°éš¾) |
| `created_at` | DateTime | åˆ›å»ºæ—¶é—´ |

### `crawl_targets` Table (æŠ“å–ç›®æ ‡é…ç½®)

| Field | Type | Description |
|-------|------|-------------|
| `id` | Integer (PK) | è‡ªå¢ä¸»é”® |
| `company` | String | ä¼ä¸šåç§° |
| `url` | String | æ‹›è˜é¡µé¢ URL |
| `css_selector` | String | JD å†…å®¹é€‰æ‹©å™¨ |
| `is_active` | Boolean | æ˜¯å¦å¯ç”¨ |
| `last_crawled` | DateTime | æœ€åæŠ“å–æ—¶é—´ |

## Project Structure (Revised)

```
Offer-Sherlock/
â”œâ”€â”€ src/offer_sherlock/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ crawlers/                 # æ•°æ®æŠ“å–æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py               # æŠ“å–åŸºç±»
â”‚   â”‚   â”œâ”€â”€ official_crawler.py   # å®˜ç½‘çˆ¬è™« (Crawl4AI)
â”‚   â”‚   â””â”€â”€ social_crawler.py     # ç¤¾äº¤æƒ…æŠ¥ (xhs SDK)
â”‚   â”œâ”€â”€ extractors/               # LLM æ•°æ®æå–æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ job_extractor.py      # JD ç»“æ„åŒ–æå–
â”‚   â”‚   â””â”€â”€ insight_extractor.py  # æƒ…æŠ¥æ±‡æ€»æå–
â”‚   â”œâ”€â”€ schemas/                  # Pydantic æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ job.py                # JobSchema
â”‚   â”‚   â””â”€â”€ insight.py            # InsightSchema
â”‚   â”œâ”€â”€ database/                 # æ•°æ®åº“æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ models.py             # SQLAlchemy ORM æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ operations.py         # CRUD æ“ä½œ
â”‚   â”‚   â””â”€â”€ session.py            # æ•°æ®åº“è¿æ¥
â”‚   â”œâ”€â”€ agents/                   # Agent ç¼–æ’
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ intel_agent.py        # ä¸»æƒ…æŠ¥ Agent
â”‚   â””â”€â”€ utils/                    # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ config.py             # é…ç½®ç®¡ç†
â”‚       â””â”€â”€ logger.py             # æ—¥å¿—é…ç½®
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ run_agent.py              # è¿è¡Œä¸» Agent
â”‚   â”œâ”€â”€ add_target.py             # æ·»åŠ æŠ“å–ç›®æ ‡
â”‚   â””â”€â”€ export_data.py            # å¯¼å‡ºæ•°æ®
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ data/                     # æµ‹è¯•æ•°æ® (mock responses)
â”‚   â”œâ”€â”€ crawlers/
â”‚   â”œâ”€â”€ extractors/
â”‚   â””â”€â”€ database/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ offers.db                 # SQLite æ•°æ®åº“
â”‚   â””â”€â”€ mock/                     # Mock æ•°æ® (å¼€å‘è°ƒè¯•ç”¨)
â””â”€â”€ ...
```

## Implementation Phases

### Phase 1: Core Infrastructure (Week 1-2)

**Goal**: å»ºç«‹åŸºç¡€æ¶æ„ï¼Œå®Œæˆå•ä¸€æ•°æ®æºçš„å®Œæ•´æµç¨‹

- [ ] è®¾è®¡å¹¶å®ç° Pydantic Schemas (JobSchema, InsightSchema)
- [ ] å®ç° SQLAlchemy ORM æ¨¡å‹å’Œæ•°æ®åº“æ“ä½œ
- [ ] å°è£… Crawl4AI ä¸ºå®˜ç½‘çˆ¬è™«æ¨¡å—
- [ ] å®ç° LLM æ•°æ®æå–å™¨ (LangChain + Output Parser)
- [ ] æµ‹è¯•å•ä¸€ç›®æ ‡ (å¦‚å­—èŠ‚è·³åŠ¨) çš„å®Œæ•´æŠ“å–æµç¨‹

**Deliverables**:
- å¯è¿è¡Œçš„ `scripts/run_agent.py` (å•ç›®æ ‡)
- æµ‹è¯•è¦†ç›– >60%

### Phase 2: Social Intelligence (Week 3-4)

**Goal**: é›†æˆç¤¾äº¤æƒ…æŠ¥ï¼Œå®ŒæˆåŒæ•°æ®æºèåˆ

- [ ] é›†æˆ xhs SDK æˆ– Apify å°çº¢ä¹¦æœç´¢
- [ ] å®ç° LLM æœç´¢è¯ç”Ÿæˆå™¨
- [ ] å®ç°æƒ…æŠ¥æ±‡æ€»æå–å™¨
- [ ] å®Œæˆ jobs + insights åŒè¡¨å­˜å‚¨
- [ ] Mock æ•°æ®è°ƒè¯• (é¿å…è¿‡åº¦æ¶ˆè€— API é¢åº¦)

**Deliverables**:
- å®Œæ•´çš„æƒ…æŠ¥ç”Ÿæˆæµç¨‹
- Mock æµ‹è¯•æ•°æ®

### Phase 3: Multi-Target & Scheduling (Week 5-6)

**Goal**: æ‰©å±•å¤šç›®æ ‡ï¼Œå®ç°å®šæ—¶ä»»åŠ¡

- [ ] æ·»åŠ æ›´å¤šæŠ“å–ç›®æ ‡ (é˜¿é‡Œã€è…¾è®¯ã€ç¾å›¢ç­‰)
- [ ] å®ç° crawl_targets é…ç½®ç®¡ç†
- [ ] å®ç°å®šæ—¶ä»»åŠ¡è°ƒåº¦
- [ ] æ·»åŠ å»é‡å’Œå¢é‡æ›´æ–°é€»è¾‘
- [ ] é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

**Deliverables**:
- æ”¯æŒ 5+ å…¬å¸çš„æŠ“å–
- æ¯æ—¥å®šæ—¶è¿è¡Œ

### Phase 4: Analysis & Reporting (Week 7+)

**Goal**: æ•°æ®åˆ†æå’ŒæŠ¥å‘Šç”Ÿæˆ

- [ ] è–ªèµ„è¶‹åŠ¿åˆ†æ
- [ ] å…¬å¸å¯¹æ¯”åˆ†æ
- [ ] æŠ¥å‘Šç”Ÿæˆ (Markdown/HTML)
- [ ] å¯é€‰: Streamlit Dashboard

## Reference Projects

| Project | Use Case | Key Learning |
|---------|----------|--------------|
| [armanjscript/Jobinja-Job-Search-Agent](https://github.com/armanjscript/Jobinja-Job-Search-Agent) | æ¶æ„å‚è€ƒ | LangGraph ç¼–æ’ã€LLM æå– JSON |
| [TrueMan777/upwork_scraper](https://github.com/TrueMan777/upwork_scraper) | Crawl4AI å®æˆ˜ | AsyncWebCrawler é…ç½®ã€æ•°æ®æŒä¹…åŒ– |
| [ReaJason/xhs](https://github.com/ReaJason/xhs) | å°çº¢ä¹¦ SDK | æœ€ç¨³å®šçš„ Python å°è£… |

## Cost Control

1. **Apify/xhs**: å¼€å‘é˜¶æ®µä½¿ç”¨ Mock æ•°æ®ï¼Œæ¯æ—¥é™åˆ¶æŠ“å–æ¬¡æ•°
2. **Crawl4AI**: ä½¿ç”¨ CSS Selector ç²¾ç¡®æå–ï¼Œå‡å°‘æ— å…³å†…å®¹
3. **LLM Token**:
   - ç²¾ç¡®é€‰æ‹©å™¨å‡å°‘è¾“å…¥ Token
   - ä½¿ç”¨ Pydantic ç»“æ„åŒ–è¾“å‡ºï¼Œå‡å°‘å¤šä½™ç”Ÿæˆ
   - è€ƒè™‘ä½¿ç”¨ GPT-4o-mini å¤„ç†ç®€å•ä»»åŠ¡

## Risks & Mitigation

| Risk | Impact | Mitigation |
|------|--------|-----------|
| åçˆ¬ç­–ç•¥ | 403/å°ç¦ | Crawl4AI `magic=True`ã€ä»£ç†æ±  |
| å°çº¢ä¹¦ API å˜åŒ– | SDK å¤±æ•ˆ | Apify ä½œä¸ºå¤‡ç”¨æ–¹æ¡ˆ |
| LLM å¹»è§‰ | æ•°æ®è´¨é‡å·® | ä¸¥æ ¼ Pydantic Schemaã€äººå·¥æŠ½æ£€ |
| Token æˆæœ¬è¿‡é«˜ | é¢„ç®—è¶…æ”¯ | CSS Selector ç²¾ç¡®æå–ã€Mock å¼€å‘ |

## Next Steps

1. âœ… é¡¹ç›®ç»“æ„æ­å»º
2. ğŸ”„ æ›´æ–° pyproject.toml ä¾èµ–
3. â³ å®ç° Pydantic Schemas
4. â³ å®ç°æ•°æ®åº“æ¨¡å‹
5. â³ å°è£… Crawl4AI çˆ¬è™«

---

**Last Updated**: 2025-12-15
**Status**: Architecture Design Complete
